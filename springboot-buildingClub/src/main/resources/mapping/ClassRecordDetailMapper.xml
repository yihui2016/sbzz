<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.springboot.springboot.dao.mapper.ClassRecordDetailMapper">
	<resultMap id="BaseResultMap"
		type="com.springboot.springboot.dao.model.ClassRecordDetail">
		<id column="id" property="id" jdbcType="VARCHAR" />
		<result column="class_record_id" property="classRecordId"
			jdbcType="VARCHAR" />
		<result column="name" property="name" jdbcType="VARCHAR" />
		<result column="strength" property="strength" jdbcType="VARCHAR" />
		<result column="times" property="times" jdbcType="VARCHAR" />
		<result column="round" property="round" jdbcType="VARCHAR" />
		<result column="extra_info" property="extraInfo" jdbcType="VARCHAR" />
		<result column="delete_flag" property="deleteFlag" jdbcType="TINYINT" />
	</resultMap>
	<sql id="Base_Column_List">
		id, class_record_id, name, strength, times, round,
		extra_info, delete_flag
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		select
		<include refid="Base_Column_List" />
		from class_record_detail
		where id = #{id,jdbcType=VARCHAR} and
		delete_flag = false
	</select>
	<select id="selectByClassRecordId" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		select
		<include refid="Base_Column_List" />
		from class_record_detail
		where class_record_id =
		#{classRecordId,jdbcType=VARCHAR} and delete_flag = false
	</select>
	<!-- <delete id="deleteByPrimaryKey" parameterType="java.lang.String"> delete 
		from class_record_detail where id = #{id,jdbcType=VARCHAR} </delete> -->

	<update id="deleteByPrimaryKey" parameterType="java.lang.String">
		update class_record_detail
		<set>
			delete_flag = true
		</set>
		where class_record_id = #{recordId,jdbcType=VARCHAR} and id not in #{ids}
	</update>
	
	<update id="deleteByRecordIdAndIdsNotIn">
        update class_record_detail
        <set>
            delete_flag = true
        </set>
        where id = #{id,jdbcType=VARCHAR}
    </update>

	<insert id="insert"
		parameterType="com.springboot.springboot.dao.model.ClassRecordDetail">
		insert into class_record_detail (id, class_record_id,
		name,
		strength, times, round,
		extra_info, delete_flag)
		values
		(#{id,jdbcType=VARCHAR},
		#{classRecordId,jdbcType=VARCHAR},
		#{name,jdbcType=VARCHAR},
		#{strength,jdbcType=VARCHAR},
		#{times,jdbcType=VARCHAR},
		#{round,jdbcType=VARCHAR},
		#{extraInfo,jdbcType=VARCHAR}),
		#{deleteFlag,jdbcType=TINYINT})

	</insert>
	<insert id="insertSelective"
		parameterType="com.springboot.springboot.dao.model.ClassRecordDetail">
		insert into class_record_detail
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				id,
			</if>
			<if test="classRecordId != null">
				class_record_id,
			</if>
			<if test="name != null">
				name,
			</if>
			<if test="strength != null">
				strength,
			</if>
			<if test="times != null">
				times,
			</if>
			<if test="round != null">
				round,
			</if>
			<if test="extraInfo != null">
				extra_info,
			</if>
			<if test="deleteFlag != null">
				delete_flag,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="classRecordId != null">
				#{classRecordId,jdbcType=VARCHAR},
			</if>
			<if test="name != null">
				#{name,jdbcType=VARCHAR},
			</if>
			<if test="strength != null">
				#{strength,jdbcType=VARCHAR},
			</if>
			<if test="times != null">
				#{times,jdbcType=VARCHAR},
			</if>
			<if test="round != null">
				#{round,jdbcType=VARCHAR},
			</if>
			<if test="extraInfo != null">
				#{extraInfo,jdbcType=VARCHAR},
			</if>
			<if test="deleteFlag != null">
				#{deleteFlag,jdbcType=TINYINT}),
			</if>

		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective"
		parameterType="com.springboot.springboot.dao.model.ClassRecordDetail">
		update class_record_detail
		<set>
			<if test="classRecordId != null">
				class_record_id = #{classRecordId,jdbcType=VARCHAR},
			</if>
			<if test="name != null">
				name = #{name,jdbcType=VARCHAR},
			</if>
			<if test="strength != null">
				strength = #{strength,jdbcType=VARCHAR},
			</if>
			<if test="times != null">
				times = #{times,jdbcType=VARCHAR},
			</if>
			<if test="round != null">
				round = #{round,jdbcType=VARCHAR},
			</if>
			<if test="extraInfo != null">
				extra_info = #{extraInfo,jdbcType=VARCHAR},
			</if>
			<if test="deleteFlag != null">
				delete_flag = #{deleteFlag,jdbcType=TINYINT}),
			</if>
		</set>
		where id = #{id,jdbcType=VARCHAR}
	</update>
	<update id="updateByPrimaryKey"
		parameterType="com.springboot.springboot.dao.model.ClassRecordDetail">
		update class_record_detail
		set class_record_id =
		#{classRecordId,jdbcType=VARCHAR},
		name = #{name,jdbcType=VARCHAR},
		strength = #{strength,jdbcType=VARCHAR},
		times =
		#{times,jdbcType=VARCHAR},
		round = #{round,jdbcType=VARCHAR},
		extra_info = #{extraInfo,jdbcType=VARCHAR},
		delete_flag = #{deleteFlag,jdbcType=TINYINT}),

		where id =
		#{id,jdbcType=VARCHAR}
	</update>
</mapper>